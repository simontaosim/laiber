(function(){var t;t=jQuery,t(document).ready(function(){return window.nestedFormEvents.insertFields=function(e,i,n){var o;return o=t(n).closest(".controls").siblings(".tab-content"),o.append(e),o.children().last()}}),t(document).on("nested:fieldAdded","form",function(e){var i,n,o,s,r,a,l;return n=e.field.addClass("tab-pane").attr("id","unique-id-"+(new Date).getTime()),s=t('<li><a data-toggle="tab" href="#'+n.attr("id")+'">'+n.children(".object-infos").data("object-label")+"</a></li>"),a=n.closest(".control-group"),i=a.children(".controls"),r=void 0!==i.data("nestedone"),o=i.children(".nav"),e=a.children(".tab-content"),l=i.find(".toggler"),o.append(s),t(window.document).trigger("rails_admin.dom_ready",[n,a]),s.children("a").tab("show"),r||o.select(":hidden").show("slow"),e.select(":hidden").show("slow"),l.addClass("active").removeClass("disabled").children("i").addClass("icon-chevron-down").removeClass("icon-chevron-right"),r?i.find(".add_nested_fields").removeClass("add_nested_fields").html(n.children(".object-infos").data("object-label")):void 0}),t(document).on("nested:fieldRemoved","form",function(t){var e,i,n,o,s,r,a,l;return o=t.field,s=o.closest(".control-group").children(".controls").children(".nav"),n=s.children("li").has("a[href=#"+o.attr("id")+"]"),a=o.closest(".control-group"),i=a.children(".controls"),r=void 0!==i.data("nestedone"),l=i.find(".toggler"),(n.next().length?n.next():n.prev()).children("a:first").tab("show"),n.remove(),0===s.children().length&&(s.select(":visible").hide("slow"),l.removeClass("active").addClass("disabled").children("i").removeClass("icon-chevron-down").addClass("icon-chevron-right")),r?(e=l.next(),e.addClass("add_nested_fields").html(e.data("add-label"))):void 0})}).call(this);